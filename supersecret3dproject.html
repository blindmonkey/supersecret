<html>
  <head>
    <title>Three.js Test</title>
    <script type="text/javascript" src="js/coffee-script.js"></script>
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/three.min.js"></script>
    <script type="text/javascript" src="js/provider.js"></script>
    <script type="text/javascript" src="js/debug.js"></script>
    <script type="text/javascript" src="js/simplex-noise.js"></script>


    <script type="text/coffeescript" src="js/supersecret/requestanimationframe.coffee"></script>
    <script type="text/coffeescript" src="js/supersecret/first-person.coffee"></script>
    <script type="text/coffeescript" src="js/supersecret/renderer.coffee"></script>
    <script type="text/coffeescript" src="js/supersecret/pipe-game.coffee"></script>
    <script type="text/coffeescript" src="js/supersecret/base-game.coffee"></script>
    <script type="text/coffeescript" src="js/supersecret/world-game.coffee"></script>
    <script type="text/coffeescript" src="js/supersecret/voxel-game.coffee"></script>
    <script type="text/javascript" src="js/geometry/world.js"></script>
    <script type="text/coffeescript" src="js/supersecret/game.coffee"></script>
    <script type="text/coffeescript" src="js/supersecret3dproject.coffee"></script>
  </head>
  <body>
    <style>
      body {
        margin: 0px;
      }
    </style>
    <script>
      //+ Jonas Raoni Soares Silva
      //@ http://jsfromhell.com/math/is-point-in-poly [v1.0]

      function isPointInPoly(poly, pt){
        for(var c = false, i = -1, l = poly.length, j = l - 1; ++i < l; j = i)
          ((poly[i].y <= pt.y && pt.y < poly[j].y) || (poly[j].y <= pt.y && pt.y < poly[i].y))
          && (pt.x < (poly[j].x - poly[i].x) * (pt.y - poly[i].y) / (poly[j].y - poly[i].y) + poly[i].x)
          && (c = !c);
        return c;
      }

      $(function() {
        var TIMEOUT = parseFloat('Infinity');
        var timeStarted = new Date().getTime();
        var waitForInit = function() {

          if (window.init) {
            console.log("Init method found");
            window.init();
          } else if (new Date().getTime() - timeStarted >= TIMEOUT) {
            console.error("Timed out waiting for initialization");
          } else {
            setTimeout(waitForInit, 250);
          }
        };
        console.log("Waiting for init method...");
        providers.init();
        waitForInit();
      });
    </script>
    <div id="container"></div>
  </body>
</html>
