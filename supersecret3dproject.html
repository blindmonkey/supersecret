<html>
  <head>
    <title>Three.js Test</title>
    <script type="text/javascript">
      window.supersecret = {};
      window.DEBUG = {
        expose: function() {}
      };
      
      function doWhen(condition, callback) {
        var func = function() {
          if (condition()) {
            callback();
          } else {
            setTimeout(func, 100);
          }
        };
        func();
      };
    </script>
    <script type="text/javascript" src="js/params.js"></script>
    <script type="text/javascript" src="js/worker-console.js"></script>
    <script type="text/javascript" src="js/coffee-script.js"></script>
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/three.min.js"></script>
    <script type="text/javascript" src="js/AsteriskGeometry.js"></script>
    <script type="text/javascript" src="js/DirectionalLightHelper.js"></script>
    <script type="text/javascript" src="js/provider.js"></script>
    <script type="text/javascript" src="js/debug.js"></script>
    <script type="text/javascript" src="js/simplex-noise.js"></script>
    <script type="text/javascript" src="js/seededrandom.js"></script>
    <script type="text/coffeescript" src="js/supersecret/base-game.coffee"></script>
    <script type="text/javascript" src="js/supersecret/lib-loader.js"></script>
    <script type="text/javascript" src="js/supersecret3dproject.js"></script>


    <script type="text/javascript" src="js/supersecret/requestanimationframe.js"></script>
    <script type="text/coffeescript" src="js/supersecret/renderer.coffee"></script>
    <script type="text/javascript" src="js/geometry/world.js"></script>
    <!--
    <script type="text/coffeescript" src="js/supersecret/lib-loader.coffee"></script>
    <script type="text/coffeescript" src="js/supersecret3dproject.coffee"></script>
    -->

    <!--
    <script type="text/coffeescript" src="js/supersecret/face-manager.coffee"></script>
    <script type="text/coffeescript" src="js/supersecret/grid.coffee"></script>
    <script type="text/coffeescript" src="js/supersecret/first-person.coffee"></script>
    <script type="text/coffeescript" src="js/supersecret/pipe-game.coffee"></script>
    <script type="text/coffeescript" src="js/supersecret/world-game.coffee"></script>
    <script type="text/coffeescript" src="js/supersecret/voxel-game.coffee"></script>
    <script type="text/coffeescript" src="js/supersecret/terrain-game.coffee"></script>
    <script type="text/coffeescript" src="js/supersecret/dna-game.coffee"></script>
    <script type="text/coffeescript" src="js/supersecret/hex-game.coffee"></script>
    <script type="text/coffeescript" src="js/supersecret/hexagon-game.coffee"></script>
    <script type="text/coffeescript" src="js/supersecret/line-physics.coffee"></script>
    <script type="text/coffeescript" src="js/supersecret/game.coffee"></script>
    -->

  </head>
  <body>
    <style>
      body {
        margin: 0;
      }
    </style>
    <script>
      //+ Jonas Raoni Soares Silva
      //@ http://jsfromhell.com/math/is-point-in-poly [v1.0]
      function isPointInPoly(poly, pt){
        for(var c = false, i = -1, l = poly.length, j = l - 1; ++i < l; j = i)
          ((poly[i].y <= pt.y && pt.y < poly[j].y) || (poly[j].y <= pt.y && pt.y < poly[i].y))
          && (pt.x < (poly[j].x - poly[i].x) * (pt.y - poly[i].y) / (poly[j].y - poly[i].y) + poly[i].x)
          && (c = !c);
        return c;
      }

      $(function() {
        doWhen(function() { return !!window.init; },
          function() { window.init(); });
      });
    </script>
    <div id="container"></div>
  </body>
</html>
